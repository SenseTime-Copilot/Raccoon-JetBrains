# Raccoon Changelog

## [0.1.0] - 2023-08-19

### 主要功能

- 仅支持手动填入AK/SK形式登录. 注: 没有登录状态以及用户名, 填入正确的AK/SK即可使用, 否则会报错
- 行内代码补全: 目前仅支持手动触发(默认触发快捷键为`Ctrl+Alt+/`, 使用`Tab`接收建议). 用户手动点击Esc键, 或进行任意光标移动(包括输入)以及焦点丢失, 都会取消展示中的补全信息
- 侧边栏助手: 支持在侧边栏, 以问答形式直接向代码助手提问. 支持历史
- 选中代码功能: 选中代码时, 可通过在编辑器内右键选择Raccoon触发, 或直接使用快捷键触发
- 后端使用新版本的chat 接口

###  与VSCode版本差异:

- 行内代码补全: 暂不支持自动方式, 不支持设置多个候选, 补全性能目前通过直接设置maxTokens实现
- 侧边栏助手: 暂时缺少"向Raccoon提问"和"代码转换"功能
- 固定为stream流式, 不支持设置, 暂不支持提问示例
- 助手的回复, 没有代码高亮, 只是简单的文本展示
- 侧边栏UI不同, 历史等使用方式不同
- 后端接口: 暂不支持后端日志采集

## [0.1.1] - 2023-08-22

### BugFix

- 更新侧边栏默认提示及help页面
- 触发代码任务后, 会自动激活Raccoon侧边栏
- 修复配置页IntelliJ自带Reset按钮未生效的问题
- 在补全内容为空时添加提示
- 修复请求400时, submit按钮会一直处于loading状态

### 遗留问题

- 目前后端的报错模式, 在java中暂时没法捕捉到内容安全的错误信息, 所以现在只会展示Unknown error, 待后续后端更新stream模式下error格式后, 会修复为展示对应的错误信息

## [0.1.2] - 2023-08-24

### BugFix

- 修改侧边栏问答等任务的max tokens为4096, 与vscode默认值保持一致
- 修改插件商店页面whats new展示变更内容
- 优化了行内补全prompt, 会尽量抓取更多代码进行提示, 以提升效果. 因为与vscode框架不同, 所以无法做到同样上下文的prompt完全一致, 但预期在大部分场景效果应该接近

## [0.1.3] - 2023-08-25

### BugFix

- 在行内补全出现异常时, 将展示异常信息, 避免不知道为什么补全失败
- 在侧边栏代码任务异常时(如超长), 会展示对应的异常信息

### 遗留问题

- 尚未与后端stream模式错误处理联调, 有些错误可能获取不到具体的报错信息, 会暂时展示"Unknown error"

## [0.2.0] - 2023-09-13

- 优化侧边栏对话模型效果

## [0.2.1] - 2023-09-14

- 修复行内补全结束词为空的问题

## [0.3.0] - 2023-10-11

### 主要修改

- 配置页UI重构: 整体重构了配置页面与配置项管理, 在开发模式下支持自定义更多的配置项
- 侧边栏UI重构: 将对话改为列表展示, 更易使用. 优化历史页展示
- 新增状态栏, 可以查看当前请求状态
- 支持多个候选的编辑器内补全
- 支持nova网页登录+aksk认证双模式
- 其他UI逻辑优化, 国际化支持等
- 整体代码重构及优化

## [0.3.1] - 2023-10-12

### BugFix

- 添加设置页面候选个数的tooltip, 以及多个候选补全显示时的tooltip
- 修复free chat, 代码任务等侧边栏相关请求的max new token, 且支持测试时自定义
- 补全为空时, 设置不同的状态栏图标
- 调整补全显示的字体颜色, 更易观看
- 修复未识别AMS服务端错误类型的问题


## [0.3.2] - 2023-10-13

### 主要修改

- 修复用户取消候选之后, 未及时关闭请求的bug
- 支持自动模式编辑器内补全

## [0.3.3] - 2023-10-13

### BugFix:

- 修复编辑期内补全可能被提前取消的bug

## [0.3.4] - 2023-10-20

### Bugfix

- 修复New Chat之后, 之前的记录没有刷新到历史的bug
- 修复历史展示过长会显示异常的bug
- 支持双击历史项, 从历史恢复
- 历史记录单条删除和全部清除功能

## [0.3.5] - 2023-10-20

### Bugfix

- 支持回车键发送问答
- 支持点击状态栏跳转到设置页面
- 修复编辑器内补全中文为乱码的问题
- 在代码任务中添加语言信息

## [0.3.6] - 2023-10-24

### BugFix

- 修复补全字体不是斜体的bug
- 修复多候选补全为空时, 状态栏图标不准确的问题
- 修复了安装对应语言插件, 在文件末尾无法触发补全的bug
- 修复了不支持IDEA 231版本的问题, 目前支持最低版本为231

## [0.4.0] - 2023-10-22

### 主要修改

- 默认使用Nova引擎
- 编辑器行内补全使用新模型

### 注意事项:

- 使用IDEA  2023.2版本
- 使用指定代码编辑器内补全之前, 先安装对应语言的IDEA插件

## [0.4.1] - 2023-10-24

### BugFix

- 修复多候选补全为空时, 状态栏图标不准确的问题
- 修复了安装对应语言插件, 在文件末尾无法触发补全的bug
- 修复了不支持IDEA 231版本的问题, 目前支持最低版本为231

## [0.5.0] - 2023-11-07

### 主要修改:

- 接入商量网页登录

## [0.5.1] - 2023-11-09

### Bugfix:

- 修复流式请求返回错误未正常显示的问题
- 修复正在输出freechat回复时新建任务, 可能会导致prompt不正确的问题
- freechat从历史恢复时, 默认跳转到底部, 便于使用

## [0.5.2] - 2023-11-10

### Bugfix:

- 修复正在输出freechat回复时新建任务, 可能会导致prompt不正确的问题
- freechat支持按照长度自动去除过早的历史

## [0.5.3] - 2023-11-13

### 主要修改:

- 接入商量(生产)网页登录

## [0.6.0] - 2023-11-14

### 主要修改:

- 修改插件名称为Raccoon

## [0.6.1] - 2023-11-23

### 主要修改:

- 接入SenseCode后端登录以及推理接口

## [0.6.2] - 2023-11-24

### 主要修改:

- 更新模型参数

## [0.6.3] - 2023-11-24

### Bugfix:

- 修复登录对话框密码和手机号输入框长度不一致的问题
- 优化登录常见错误提示

## [0.6.4] - 2023-11-28

### 主要修改:

- 兼容22.2版本IntelliJ基础平台, 以支持AndroidStudio. 目前jetbrains系列IDE支持范围为22.2~最新版本

## [0.6.5] - 2023-11-29

### Bugfix:

- 修复completion模型stop word不正确的问题
- 将编辑期内补全偏好的默认值改为长度优先(与VsCode对齐)
- 修复登录框中去注册文本在英文时国际化单引号使用不正确导致链接失效的问题

## [0.7.0] - 2023-11-29

### 主要修改:

- 更新completion模型(用于编辑器行内补全)的prompt模板, 以适配新模型

## [0.7.1] - 2023-11-30

### 主要修改:

- 更新后端错误码映射, 添加请求速率超限等提示

## [0.7.2] - 2023-12-04

### 主要修改:

- 更新README文档, 加入动图演示
- 修复23.x版本IDE中可能出现报错的bug

## [0.7.3] - 2023-12-06

### Added

- Change Raccoon description

## [0.7.4] - 2023-12-06

### Bugfix

- Change main page url to https

## [0.7.5] - 2023-12-06

### Bugfix

- update backend error code mapping

## [0.7.6] - 2023-12-07

### Added

- change model default temperature

## [0.7.7] - 2023-12-08

### BugFix

- 修复开启自动模式的编辑器内补全时, 选中代码会触发Raccoon弹窗的问题

## [0.8.0] - 2023-12-20

### 主要修改:

- 侧边栏对话, 新增代码展示框, 支持拷贝到剪切板, 插入到光标, 自动换行等功能
- 编辑器内补全自动模式触发时机与位置等体验优化

## [0.8.1] - 2023-12-26

### Bugfix

## [0.8.2] - 2023-12-29

### Bugfix

## [0.8.3] - 2023-12-29

### Bugfix

## [0.8.4] - 2024-01-02

### 主要修改:

- 侧边栏对话, 新增代码展示框, 支持拷贝到剪切板, 插入到光标, 自动换行等功能
- 编辑器内补全自动模式触发时机与位置等体验优化, 支持单行模式, 支持自定义延时时间

## [0.8.5] - 2024-01-05

### Bugfix

## [0.8.6] - 2024-01-05

### Bugfix

## [0.8.7] - 2024-01-05

### 主要修改:

- 设置页面新增补全代码颜色设置项
- 优化自动补全触发, 改为只有用户输入字符后空闲指定时间才会触发

## [0.9.0] - 2024-01-11

### Bugfix

## [0.9.1] - 2024-01-14

### Bugfix

## [0.9.2] - 2024-01-15

- 支持在git commit页面帮助您自动撰写提交信息
- 优化代码补全字体, 与编辑器保持一致
- 修复每次启动时可能报未登录弹窗的问题
- 修复在IDEA开启NewUI时, 侧边栏图标显示问题

## [0.9.3] - 2024-01-16

### Bugfix

## [0.9.4] - 2024-01-31

### Bugfix

## [0.9.5] - 2024-01-31

### Bugfix

## [0.9.6] - 2024-02-01

### Bugfix
- 修复打开多个IDE窗口时, 代码任务可能展示在非当前窗口侧边栏的问题
- 优化多窗口时插件的资源占用

## [0.10.0] - 2024-02-02

- 更新图标以及api优化等
- 修复打开多个IDE窗口时, 代码任务可能展示在非当前窗口侧边栏的问题
- 优化多窗口时插件的资源占用

## [0.11.0] - 2024-02-05

### Features

## [0.11.1] - 2024-02-06

- Bugfix

## [0.11.2] - 2024-02-06

- 支持香港澳门手机号登录
- 国际化添加繁体中文支持, 在系统语言为繁体时会自动切换到繁体展示插件UI
- 优化编辑器内代码补全的最大长度档位性能
- 优化代码任务效果

## [0.11.3] - 2024-02-28

- 修复同时使用多个IDE实例时可能导致的登录状态问题

## [0.12.0] - 2024-03-27

- UI优化
- 修复未登录时, 如果开启自动补全会频繁弹出去登录提示框的问题

## [0.13.0] - 2024-04-08

- Bug修复

## [0.13.1] - 2024-04-09

- Bug修复

## [0.13.2] - 2024-04-10

- Bug修复

## [0.13.3] - 2024-04-10

- 本地以及云端知识库支持
- Bug修复

## [0.14.0] - 2024-04-18

- Bug修复

## [0.14.1] - 2024-04-18

- Bug修复

## [0.14.2] - 2024-04-18

- 支持自定义git commit的prompt模板
- 支持登录时保存密码
- Bug修复

## [0.15.0] - 2024-05-20

- 支持日本手机号登录

## [0.15.1] - 2024-05-22

- 支持日本手机号登录
- 加入日文本地化翻译资源, 支持日文UI

## [0.16.0] - 2024-05-28

- Bugfix

## [0.16.1] - 2024-05-28

- 支持手机验证码登录
- 优化对话模型效果
